{"version":3,"file":"ContinueState-Bw4kWplq.js","sources":["../../src/features/shared-menus/states/ContinueState.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { State } from \"../../../core/templates/State\";\r\nimport { CampaignManager } from \"../../../core/managers/CampaignManager\";\r\nimport { FeatureEnum } from \"../../FeatureEnum\";\r\n\r\nexport class ContinueState extends State {\r\n    public name = FeatureEnum.CONTINUE;\r\n\r\n    public async init(): Promise<void> {\r\n        this.isInitialized = true;\r\n        this.isRendering = true;\r\n        this.isUpdating = true;\r\n    }\r\n\r\n    public update(dt: number, frameCount: number): void {}\r\n    public destroy(): void {}\r\n\r\n    public getView(): React.JSX.Element {\r\n        return <ContinueView key=\"continue-view\" />;\r\n    }\r\n}\r\n\r\nconst ContinueView: React.FC = () => {\r\n    const [countdown, setCountdown] = useState(9);\r\n\r\n    useEffect(() => {\r\n        const timer = setInterval(() => {\r\n            setCountdown((prev) => {\r\n                if (prev <= 0) {\r\n                    clearInterval(timer);\r\n                    handleGiveUp();\r\n                    return 0;\r\n                }\r\n                return prev - 1;\r\n            });\r\n        }, 1000);\r\n\r\n        const handleInput = (e: KeyboardEvent) => {\r\n            if (e.key === \"Enter\") handleContinue();\r\n            if (e.key === \"Escape\") handleGiveUp();\r\n        };\r\n\r\n        window.addEventListener(\"keydown\", handleInput);\r\n        return () => {\r\n            clearInterval(timer);\r\n            window.removeEventListener(\"keydown\", handleInput);\r\n        };\r\n    }, []);\r\n\r\n    const handleContinue = () => CampaignManager.getInstance().retryCurrentStep();\r\n    const handleGiveUp = () => CampaignManager.getInstance().quitCampaign();\r\n\r\n    return (\r\n        <div style={{\r\n            width: '100%', height: '100%', background: '#000', color: '#fff',\r\n            display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center',\r\n            fontFamily: 'Impact, sans-serif', textTransform: 'uppercase'\r\n        }}>\r\n            <h1 style={{ fontSize: '4rem', marginBottom: '20px', letterSpacing: '2px' }}>CONTINUE?</h1>\r\n            <div style={{ fontSize: '6rem', color: countdown < 4 ? '#e74c3c' : '#f1c40f', marginBottom: '40px' }}>\r\n                {countdown}\r\n            </div>\r\n            <div style={{ display: 'flex', gap: '40px' }}>\r\n                <button onClick={handleContinue} style={{ padding: '15px 30px', fontSize: '1.5rem', background: 'transparent', border: '3px solid white', color: 'white', cursor: 'pointer' }}>\r\n                    YES (ENTER)\r\n                </button>\r\n                <button onClick={handleGiveUp} style={{ padding: '15px 30px', fontSize: '1.5rem', background: 'transparent', border: '3px solid #666', color: '#666', cursor: 'pointer' }}>\r\n                    NO (ESC)\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};"],"names":["ContinueState","State","FeatureEnum","dt","frameCount","jsx","ContinueView","countdown","setCountdown","useState","useEffect","timer","prev","handleGiveUp","handleInput","e","handleContinue","CampaignManager","jsxs"],"mappings":"+GAKO,MAAMA,UAAsBC,CAAM,CAC9B,KAAOC,EAAY,SAE1B,MAAa,MAAsB,CAC/B,KAAK,cAAgB,GACrB,KAAK,YAAc,GACnB,KAAK,WAAa,EACtB,CAEO,OAAOC,EAAYC,EAA0B,CAAC,CAC9C,SAAgB,CAAC,CAEjB,SAA6B,CAChC,OAAOC,MAACC,KAAiB,eAAgB,CAC7C,CACJ,CAEA,MAAMA,EAAyB,IAAM,CACjC,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,CAAC,EAE5CC,EAAAA,UAAU,IAAM,CACZ,MAAMC,EAAQ,YAAY,IAAM,CAC5BH,EAAcI,GACNA,GAAQ,GACR,cAAcD,CAAK,EACnBE,EAAA,EACO,GAEJD,EAAO,CACjB,CACL,EAAG,GAAI,EAEDE,EAAeC,GAAqB,CAClCA,EAAE,MAAQ,SAASC,EAAA,EACnBD,EAAE,MAAQ,UAAUF,EAAA,CAC5B,EAEA,cAAO,iBAAiB,UAAWC,CAAW,EACvC,IAAM,CACT,cAAcH,CAAK,EACnB,OAAO,oBAAoB,UAAWG,CAAW,CACrD,CACJ,EAAG,CAAA,CAAE,EAEL,MAAME,EAAiB,IAAMC,EAAgB,YAAA,EAAc,iBAAA,EACrDJ,EAAe,IAAMI,EAAgB,YAAA,EAAc,aAAA,EAEzD,OACIC,EAAAA,KAAC,OAAI,MAAO,CACR,MAAO,OAAQ,OAAQ,OAAQ,WAAY,OAAQ,MAAO,OAC1D,QAAS,OAAQ,cAAe,SAAU,WAAY,SAAU,eAAgB,SAChF,WAAY,qBAAsB,cAAe,WAAA,EAEjD,SAAA,CAAAb,EAAAA,IAAC,KAAA,CAAG,MAAO,CAAE,SAAU,OAAQ,aAAc,OAAQ,cAAe,KAAA,EAAS,SAAA,WAAA,CAAS,EACtFA,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,SAAU,OAAQ,MAAOE,EAAY,EAAI,UAAY,UAAW,aAAc,MAAA,EACvF,SAAAA,EACL,EACAW,OAAC,OAAI,MAAO,CAAE,QAAS,OAAQ,IAAK,QAChC,SAAA,CAAAb,MAAC,UAAO,QAASW,EAAgB,MAAO,CAAE,QAAS,YAAa,SAAU,SAAU,WAAY,cAAe,OAAQ,kBAAmB,MAAO,QAAS,OAAQ,SAAA,EAAa,SAAA,cAE/K,QACC,SAAA,CAAO,QAASH,EAAc,MAAO,CAAE,QAAS,YAAa,SAAU,SAAU,WAAY,cAAe,OAAQ,iBAAkB,MAAO,OAAQ,OAAQ,SAAA,EAAa,SAAA,UAAA,CAE3K,CAAA,CAAA,CACJ,CAAA,EACJ,CAER"}