{"version":3,"file":"Game2State-Cht6l63e.js","sources":["../../src/features/Game2/model/Game2LogicSchema.ts","../../src/features/Game2/model/Game2ViewSchema.ts","../../src/features/Game2/view/ui-components/Game2HUD.tsx","../../src/features/Game2/view/Game2View.tsx","../../src/features/Game2/view/Game2Presenter.ts","../../src/features/Game2/view/Game2Controller.ts","../../src/features/Game2/model/Game2State.ts"],"sourcesContent":["// src/states/Game2/Game2LogicSchema.ts\r\nimport {IBuffer} from \"../../../core/interfaces/IBuffer\";\r\n\r\nexport const Game2LogicSchema: IBuffer = {\r\n    HERO_HP: 0,\r\n    ENERGY: 1,\r\n    SCRAP_COUNT: 2,\r\n\r\n    TICK_COUNT: 3,\r\n    FRAME_COUNT: 4,\r\n    FPS: 5,\r\n    REVISION: 6,\r\n\r\n    BUFFER_SIZE: 1024\r\n};","// src/features/Game2/model/Game2ViewSchema.ts\r\nimport {IBuffer} from \"../../../core/interfaces/IBuffer\";\r\n\r\nexport const Game2ViewSchema: IBuffer = {\r\n    HERO_HP_DISPLAY: 0,\r\n    ENERGY_DISPLAY: 1,\r\n    SCRAP_DISPLAY: 2,\r\n\r\n    UI_BOUNCE: 3,\r\n    GLITCH_INTENSITY: 4,\r\n    VIGNETTE_PULSE: 5,\r\n    BUFFER_SIZE: 1024\r\n};","// src/features/Game2/view/ui/Game2HUD.tsx\r\nimport React from 'react';\r\n\r\ninterface HUDProps {\r\n    stats: { hp: number; energy: number; scrap: number };\r\n    onAction: (type: string, val?: number) => void;\r\n    onJumpG1: () => void;\r\n    onLevel1: () => void;\r\n    onLevel2: () => void;\r\n    onLevel3: () => void;\r\n    onQuickLoad: () => void;\r\n    onNextLevel: () => void;\r\n    onFailLevel: () => void;\r\n}\r\n\r\nexport const Game2HUD: React.FC<HUDProps> = ({\r\n                                                 stats, onAction, onJumpG1, onLevel1, onLevel2, onLevel3, onQuickLoad, onNextLevel, onFailLevel\r\n                                             }) => {\r\n    const cardStyle: React.CSSProperties = {\r\n        padding: '1.5cqw', border: '0.1cqw solid', borderRadius: '0.5cqw',\r\n        display: 'flex', flexDirection: 'column', gap: '1cqh'\r\n    };\r\n\r\n    const btnStyle: React.CSSProperties = {\r\n        padding: '0.5cqw 1cqw', cursor: 'pointer', background: '#222',\r\n        color: '#eee', border: '0.1cqw solid #444', fontSize: '0.8cqw',\r\n        pointerEvents: 'auto'\r\n    };\r\n\r\n    return (\r\n        <div style={{position: 'absolute', inset: 0, pointerEvents: 'none', containerType: 'size', padding: '2cqw'}}>\r\n            <div style={{display: 'flex', justifyContent: 'space-between', color: '#00ff00', fontFamily: 'monospace'}}>\r\n                <h2 style={{fontSize: '1.5cqw', margin: 0}}>SYSTEM_DIAGNOSTICS</h2>\r\n                <div style={{display: 'flex', flexDirection: 'column', gap: '0.5cqh', alignItems: 'flex-end'}}>\r\n                    {/* Level Select Row */}\r\n                    <div style={{display: 'flex', gap: '0.5cqw'}}>\r\n                        <button onClick={onLevel1} style={{...btnStyle, background: '#1b4d1b'}}>LVL 1</button>\r\n                        <button onClick={onLevel2} style={{...btnStyle, background: '#4d431b'}}>LVL 2</button>\r\n                        <button onClick={onLevel3} style={{...btnStyle, background: '#4d1b1b'}}>LVL 3</button>\r\n                    </div>\r\n                    {/* Control Row */}\r\n                    <div style={{display: 'flex', gap: '0.5cqw'}}>\r\n                        <button onClick={onNextLevel} style={{...btnStyle, borderColor: '#8e44ad', color: '#67ad44'}}>NEXT_STEP</button>\r\n                        <button onClick={onFailLevel} style={{...btnStyle, borderColor: '#8e44ad', color: '#ad4444'}}>FAIL_STEP</button>\r\n                        <button onClick={onJumpG1} style={{...btnStyle, borderColor: '#3498db'}}>GOTO_G1</button>\r\n                        <button onClick={onQuickLoad} style={{...btnStyle, borderColor: '#c0392b'}}>RELOAD</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(3, 1fr)',\r\n                gap: '2cqw',\r\n                marginTop: '2cqh',\r\n                pointerEvents: 'auto'\r\n            }}>\r\n                <div style={{...cardStyle, borderColor: '#00ff00', color: '#00ff00'}}>\r\n                    <span>GLOBAL_HP</span>\r\n                    <b style={{fontSize: '2cqw'}}>{stats.hp.toFixed(1)}</b>\r\n                    <div style={{display: 'flex', gap: '0.5cqw'}}>\r\n                        <button onClick={() => onAction('MOD_HP', 10)} style={btnStyle}>+10</button>\r\n                        <button onClick={() => onAction('MOD_HP', -10)} style={btnStyle}>-10</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{...cardStyle, borderColor: '#3498db', color: '#3498db'}}>\r\n                    <span>GLOBAL_ENERGY</span>\r\n                    <b style={{fontSize: '2cqw'}}>{stats.energy}</b>\r\n                    <button onClick={() => onAction('MOD_ENERGY', 5)} style={btnStyle}>RECHARGE</button>\r\n                </div>\r\n\r\n                <div style={{...cardStyle, borderColor: '#f1c40f', color: '#f1c40f'}}>\r\n                    <span>LOCAL_SCRAP</span>\r\n                    <b style={{fontSize: '2cqw'}}>{stats.scrap}</b>\r\n                    <button onClick={() => onAction('ADD_SCRAP')} style={btnStyle}>COLLECT</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import {Game2HUD} from \"./ui-components/Game2HUD\";\r\nimport {IGameViewProps} from \"../../../core/interfaces/IViewProps\";\r\nimport {Game2Presenter} from \"./Game2Presenter\";\r\nimport {Game2Controller} from \"./Game2Controller\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {Game2Level} from \"../model/Game2Config\";\r\n\r\nexport const Game2View: React.FC<IGameViewProps<Game2Presenter, Game2Controller>> = ({vm, controller}) => {\r\n    const [stats, setStats] = useState({hp: vm.hp, energy: vm.energy, scrap: vm.scrap});\r\n    const [visuals, setVisuals] = useState({uiOffset: 0, glitch: 0, pulse: 0});\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = vm.subscribe(() => {\r\n            setStats({hp: vm.hp, energy: vm.energy, scrap: vm.scrap});\r\n            const v = (vm as any).visualEffects;\r\n            setVisuals({\r\n                uiOffset: v.uiOffset,\r\n                glitch: v.glitchIntensity,\r\n                pulse: v.vignettePulse\r\n            });\r\n        });\r\n        return () => unsubscribe();\r\n    }, [vm]);\r\n\r\n    const shakeX = (Math.random() - 0.5) * 20 * visuals.glitch;\r\n    const shakeY = (Math.random() - 0.5) * 20 * visuals.glitch;\r\n\r\n    return (\r\n        <div style={{\r\n            position: 'absolute', inset: 0,\r\n            background: '#000', // The \"Bars\" color\r\n            display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n            overflow: 'hidden'\r\n        }}>\r\n            {/* The 16:9 Container */}\r\n            <div style={{\r\n                position: 'relative',\r\n                width: '100%',\r\n                height: '100%',\r\n                maxWidth: 'calc(100vh * (16 / 9))',\r\n                maxHeight: 'calc(100vw * (9 / 16))',\r\n                aspectRatio: '16 / 9',\r\n                background: '#adadad',\r\n                overflow: 'hidden',\r\n                transform: `translate(${shakeX}px, ${shakeY}px)`,\r\n                textShadow: visuals.glitch > 0.1\r\n                    ? `${visuals.glitch * 5}px 0 #f00, -${visuals.glitch * 5}px 0 #0ff`\r\n                    : 'none'\r\n            }}>\r\n                {/* Pulsing Vignette Overlay */}\r\n                <div style={{\r\n                    position: 'absolute', inset: 0,\r\n                    background: `radial-gradient(circle, transparent 40%, rgba(0,0,0,${0.8 * visuals.pulse}))`,\r\n                    pointerEvents: 'none', zIndex: 1\r\n                }}/>\r\n\r\n                <div style={{\r\n                    position: 'absolute', inset: 0,\r\n                    display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                    color: '#050505', fontSize: '10cqw', fontWeight: 'bold',\r\n                    transform: `translateY(${visuals.uiOffset}px)`,\r\n                    opacity: 0.3 + (visuals.glitch * 0.7)\r\n                }}>\r\n                    LAB_02\r\n                </div>\r\n\r\n                <Game2HUD\r\n                    stats={stats}\r\n                    onAction={(type, val) => controller.modifyStat(type as any, val)}\r\n                    onJumpG1={controller.jumpToGame1}\r\n                    onLevel1={() => controller.loadLevel(Game2Level.Level1)}\r\n                    onLevel2={() => controller.loadLevel(Game2Level.Level2)}\r\n                    onLevel3={() => controller.loadLevel(Game2Level.Level3)}\r\n                    onQuickLoad={() => controller.resetLevel()}\r\n                    onNextLevel={() => controller.nextLevel()}\r\n                    onFailLevel={() => controller.failLevel()}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};","// src/features/Game2/view/Game2Presenter.ts\r\nimport {BasePresenter} from \"../../../core/templates/BasePresenter\";\r\nimport {Game2ViewSchema} from \"../model/Game2ViewSchema\";\r\n\r\nexport class Game2Presenter extends BasePresenter {\r\n    public get hp(): number {\r\n        return this.sharedView[Game2ViewSchema.HERO_HP_DISPLAY] || 0;\r\n    }\r\n\r\n    public get energy(): number {\r\n        return this.sharedView[Game2ViewSchema.ENERGY_DISPLAY] || 0;\r\n    }\r\n\r\n    public get scrap(): number {\r\n        return this.sharedView[Game2ViewSchema.SCRAP_DISPLAY] || 0;\r\n    }\r\n\r\n    public get visualEffects() {\r\n        return {\r\n            uiOffset: this.sharedView[Game2ViewSchema.UI_BOUNCE] || 0,\r\n            glitchIntensity: this.sharedView[Game2ViewSchema.GLITCH_INTENSITY] || 0,\r\n            vignettePulse: this.sharedView[Game2ViewSchema.VIGNETTE_PULSE] || 0\r\n        };\r\n    }\r\n}","// src/states/Game2/view/Game2Controller.ts\r\nimport {BaseController} from \"../../../core/templates/BaseController\";\r\nimport {Game2Presenter} from \"./Game2Presenter\";\r\nimport {StateManager} from \"../../../core/managers/StateManager\";\r\nimport {Game2Level} from \"../model/Game2Config\";\r\nimport {SaveManager} from \"../../../core/managers/SaveManager\";\r\nimport {CampaignManager} from \"../../../core/managers/CampaignManager\";\r\nimport {InputManager} from \"../../../core/managers/InputManager\";\r\nimport {StateRegistry} from \"../../../core/registry/StateRegistry\";\r\nimport {FeatureEnum} from \"../../FeatureEnum\";\r\n\r\nexport class Game2Controller extends BaseController<Game2Presenter> {\r\n    constructor(vm: Game2Presenter) {\r\n        super(vm, FeatureEnum.GAME_2);\r\n    }\r\n\r\n    public modifyStat(action: 'MOD_HP' | 'MOD_ENERGY' | 'ADD_SCRAP', amount?: number) {\r\n        this.send(action, {amount});\r\n    }\r\n\r\n    public async jumpToGame1() {\r\n        const target = await StateRegistry.create(FeatureEnum.GAME_1, { reset: false });\r\n        StateManager.getInstance().replace(target);\r\n    }\r\n\r\n    public async loadLevel(level: Game2Level) {\r\n        const target = await StateRegistry.create(FeatureEnum.GAME_2, { reset: false, level });\r\n        StateManager.getInstance().replace(target);\r\n    }\r\n\r\n    public async resetLevel() {\r\n        await SaveManager.getInstance().performLoad(this.QUICK_SAVE_KEY);\r\n        const currentLevel = (this.vm as any).currentLevel || Game2Level.Level1;\r\n        const target = await StateRegistry.create(FeatureEnum.GAME_2, { reset: false, level: currentLevel });\r\n        StateManager.getInstance().replace(target);\r\n    }\r\n\r\n    protected onKeyDown(e: KeyboardEvent): void {\r\n        if (InputManager.getInstance().isKeyAction(e.key, 'PAUSE')) {\r\n            this.handleEscape();\r\n        }\r\n    }\r\n\r\n    protected onWorkerEvent(name: string): void {}\r\n\r\n    private async handleEscape() {\r\n        const target = await StateRegistry.create(FeatureEnum.PAUSE_MENU);\r\n        StateManager.getInstance().push(target);\r\n    }\r\n\r\n    public nextLevel() {\r\n        CampaignManager.getInstance().completeCurrentStep();\r\n    }\r\n\r\n    public failLevel() {\r\n        CampaignManager.getInstance().failCurrentStep();\r\n    }\r\n}","// src/features/Game2/model/Game2State.ts\r\nimport {BaseGameState} from '../../../core/templates/BaseGameState';\r\nimport {Game2LogicSchema} from './Game2LogicSchema';\r\nimport {Game2ViewSchema} from './Game2ViewSchema';\r\nimport {Game2View} from '../view/Game2View';\r\nimport {Game2Presenter} from '../view/Game2Presenter';\r\nimport {Game2Controller} from '../view/Game2Controller';\r\nimport {Game2Config, Game2Level, getGame2Config} from './Game2Config';\r\nimport {SharedSession} from '../../../core/session/SharedSession';\r\nimport {GLOBAL_SESSION_MAP} from '../../../core/session/GlobalSessionMap';\r\nimport {FeatureEnum} from '../../FeatureEnum';\r\n\r\nexport interface Game2Params {\r\n    reset?: boolean;\r\n    level?: Game2Level;\r\n}\r\n\r\nexport class Game2State extends BaseGameState<Game2Presenter, Game2Controller, Game2Config> {\r\n    public name = FeatureEnum.GAME_2;\r\n    protected logicSchema = Game2LogicSchema;\r\n    protected viewSchema = Game2ViewSchema;\r\n    protected viewComponent = Game2View;\r\n\r\n    private currentLevel: Game2Level;\r\n\r\n    constructor(params: Game2Params = {}) {\r\n        super(params.reset ?? false);\r\n        this.currentLevel = params.level ?? Game2Level.Level1;\r\n    }\r\n\r\n    protected getConfig(): Game2Config {\r\n        return getGame2Config(this.currentLevel);\r\n    }\r\n\r\n    protected getSessionOverrides(session: SharedSession): Partial<Game2Config> {\r\n        const overrides: Partial<Game2Config> = {};\r\n\r\n        const hp = session.get<number>(GLOBAL_SESSION_MAP.hp);\r\n        if (hp !== undefined) overrides.initialHP = hp;\r\n\r\n        const energy = session.get<number>(GLOBAL_SESSION_MAP.energy);\r\n        if (energy !== undefined) overrides.initialEnergy = energy;\r\n\r\n        return overrides;\r\n    }\r\n\r\n    protected initMVC(): void {\r\n        this.vm = new Game2Presenter();\r\n        this.controller = new Game2Controller(this.vm);\r\n    }\r\n}"],"names":["Game2LogicSchema","Game2ViewSchema","Game2HUD","stats","onAction","onJumpG1","onLevel1","onLevel2","onLevel3","onQuickLoad","onNextLevel","onFailLevel","cardStyle","btnStyle","jsxs","jsx","Game2View","vm","controller","setStats","useState","visuals","setVisuals","useEffect","unsubscribe","v","shakeX","shakeY","type","val","Game2Level","Game2Presenter","BasePresenter","Game2Controller","BaseController","FeatureEnum","action","amount","target","StateRegistry","StateManager","level","SaveManager","currentLevel","InputManager","name","CampaignManager","Game2State","BaseGameState","params","getGame2Config","session","overrides","hp","GLOBAL_SESSION_MAP","energy"],"mappings":"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"}