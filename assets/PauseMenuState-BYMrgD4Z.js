import{S as E,A as I,r as h,j as e,M as y,R as f,a as r,D as q,b as M}from"./index-CTBlzk9E.js";const p={display:"flex",alignItems:"center",gap:"1.5cqw",minWidth:"20cqw",justifyContent:"flex-end"},g={cursor:"pointer",accentColor:"#00ff00",width:"12cqw"},T={backgroundColor:"#000",color:"#00ff00",border:"1px solid #00ff00",padding:"0.5cqw",fontFamily:"monospace",outline:"none"},m={padding:"0.8cqw 2cqw",cursor:"pointer",border:"1px solid #00ff00",background:"#000",color:"#00ff00",fontWeight:"bold",fontFamily:"monospace"},k=({onBack:a,res:s,setRes:c})=>{const o=E.getInstance(),l=I.getInstance(),[n,S]=h.useState({master:o.get("master_volume")??.5,ost:o.get("ost_volume")??.5,sfx:o.get("sfx_volume")??.5}),[b,x]=h.useState(!!document.fullscreenElement),d=(t,u)=>{S(C=>({...C,[t]:u})),o.set(`${t}_volume`,u),l.setVolume(t,u)},j=t=>{c?.(t),o.set("resolution",t)},w=async()=>{document.fullscreenElement?document.exitFullscreen&&(await document.exitFullscreen(),x(!1)):(await document.documentElement.requestFullscreen().catch(()=>{}),x(!0))},v={width:"100%",height:"100%",maxWidth:"calc(100vh * (16 / 9))",maxHeight:"calc(100vw * (9 / 16))",aspectRatio:"16 / 9",backgroundColor:"rgba(5, 5, 5, 0.98)",color:"#00ff00",fontFamily:"monospace",display:"flex",flexDirection:"column",padding:"4cqw",boxSizing:"border-box",position:"relative",zIndex:1200,textShadow:"0 0 5px rgba(0, 255, 0, 0.3)",containerType:"size"},i={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1cqw 1.5cqw",borderBottom:"1px solid #1a1a1a"};return e.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1200},children:e.jsxs("div",{style:v,children:[e.jsx("h2",{style:{borderBottom:"2px solid #00ff00",paddingBottom:"1cqw",letterSpacing:"0.2cqw"},children:"SYSTEM_CONFIGURATION"}),e.jsxs("div",{style:{marginTop:"1cqw"},children:[e.jsxs("div",{style:i,children:[e.jsx("span",{children:"MASTER_OUTPUT_LEVEL"}),e.jsxs("div",{style:p,children:[e.jsxs("span",{children:[Math.round(n.master*100),"%"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:n.master,onChange:t=>d("master",parseFloat(t.target.value)),style:g})]})]}),e.jsxs("div",{style:i,children:[e.jsx("span",{children:"OST_SEQUENCE_LEVEL"}),e.jsxs("div",{style:p,children:[e.jsxs("span",{children:[Math.round(n.ost*100),"%"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:n.ost,onChange:t=>d("ost",parseFloat(t.target.value)),style:g})]})]}),e.jsxs("div",{style:i,children:[e.jsx("span",{children:"SFX_IMPULSE_LEVEL"}),e.jsxs("div",{style:p,children:[e.jsxs("span",{children:[Math.round(n.sfx*100),"%"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:n.sfx,onChange:t=>d("sfx",parseFloat(t.target.value)),style:g})]})]}),e.jsxs("div",{style:i,children:[e.jsx("span",{children:"DISPLAY_RESOLUTION"}),e.jsx("select",{value:s,onChange:t=>j(t.target.value),style:T,children:["540p","720p","1080p","1440p","4k","fit"].map(t=>e.jsx("option",{value:t,children:t.toUpperCase()},t))})]}),e.jsxs("div",{style:i,children:[e.jsx("span",{children:"WINDOW_MODE"}),e.jsx("button",{onClick:w,style:m,children:b?"[ FULLSCREEN ]":"[ WINDOWED ]"})]})]}),e.jsx("div",{style:{marginTop:"auto",textAlign:"right",borderTop:"1px solid #00ff00",paddingTop:"1cqw"},children:e.jsx("button",{onClick:a,style:{...m,background:"#111",color:"#888",borderColor:"#444"},children:"EXIT_CONFIG"})})]})})};class F extends y{constructor(s){super(),this.props=s}name="SettingsMenu";getView(){return f.createElement(k,{onBack:()=>this.onClose(),res:this.props?.res,setRes:this.props?.setRes})}}const R=({onResume:a,onSaveMenu:s,onSettings:c,onQuit:o})=>{const l={padding:"1.2cqw 3cqw",fontSize:"1.2cqw",cursor:"pointer",marginBottom:"1cqw",color:"white",border:"none",fontWeight:"bold",borderRadius:"0.4cqw",width:"28cqw",fontFamily:"monospace"},n={width:"100%",height:"100%",maxWidth:"calc(100vh * (16 / 9))",maxHeight:"calc(100vw * (9 / 16))",aspectRatio:"16 / 9",backgroundColor:"rgba(0,0,0,0.85)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",zIndex:1e3,position:"relative",fontFamily:"monospace",userSelect:"none",containerType:"size"};return e.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:n,children:[e.jsx("h1",{style:{fontSize:"6cqw",marginBottom:"2cqw",letterSpacing:"0.5cqw"},children:"PAUSED"}),e.jsx("button",{onClick:a,style:{...l,fontSize:"1.5cqw",backgroundColor:"#27ae60"},children:"RESUME"}),e.jsx("button",{onClick:s,style:{...l,backgroundColor:"#8e44ad"},children:"SAVE / LOAD GAME"}),e.jsx("button",{onClick:c,style:{...l,backgroundColor:"#7f8c8d"},children:"SYSTEM SETTINGS"}),e.jsx("button",{onClick:o,style:{...l,backgroundColor:"#c0392b"},children:"QUIT TO SWITCHBOARD"})]})})};class O extends y{name="PauseMenu";getView(){return f.createElement(R,{onResume:()=>this.onClose(),onSaveMenu:()=>r.getInstance().push(new M),onSettings:()=>r.getInstance().push(new F),onQuit:()=>{const s=new q;r.getInstance().pop(),r.getInstance().replace(s)}})}}export{O as PauseMenuState};
