import{f as E,A as w,S as c,a as u,F as l,r as C,j as e,h as v,R as b}from"./index-DiqBmJr0.js";import{B as q}from"./BaseMenuController-DdHX46kr.js";import{C as L}from"./CampaignManager-BPr2ukeD.js";class S extends q{session=E.getInstance();audio=w.getInstance();campaign=L.getInstance();onBack(){}async handleNav(a,i){this.session.clearSavableKeys(),this.session.set("campaign_id",null),this.session.set("campaign_step_index",0);const o=await c.create(a,{reset:!1,...i});u.getInstance().replace(o)}async openPopup(a,i={}){const o=await c.create(a,i);u.getInstance().push(o)}startCampaign(a){this.campaign.startCampaign(a)}setVolume(a,i){this.audio.setVolume(a,i),this.session.set(`${a}_volume`,i)}updateResolution(a,i){i?.(a),this.session.set("resolution",a)}getInitialVolumes(){return{master:this.session.get("master_volume")??.5,ost:this.session.get("ost_volume")??.5,sfx:this.session.get("sfx_volume")??.5}}}const t=({label:s,onClick:a,active:i,color:o="#444",subLabel:r})=>e.jsxs("button",{onClick:a,disabled:!a,style:{padding:"1cqw",backgroundColor:i?"#4f4":a?o:"#222",color:i?"#000":a?"#fff":"#666",border:"0.1cqw solid #555",borderRadius:"0.4cqw",cursor:a?"pointer":"default",fontSize:"0.8cqw",fontWeight:"bold",textAlign:"center",transition:"all 0.1s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsx("span",{children:s}),r&&e.jsx("span",{style:{fontSize:"0.6cqw",fontWeight:"normal",opacity:.8},children:r})]}),x=({label:s,value:a,onChange:i})=>e.jsxs("div",{style:{marginBottom:"1.2cqw"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7cqw",color:"#00ff00",marginBottom:"0.4cqw"},children:[e.jsx("span",{children:s}),e.jsxs("span",{children:[Math.round(a*100),"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:a,onChange:o=>i(parseFloat(o.target.value)),style:{width:"100%",cursor:"pointer",accentColor:"#00ff00",height:"0.8cqh"}})]}),_=({controller:s,res:a,setRes:i})=>{const o=c.get(l.GAME_1),r=c.get(l.GAME_2),d=c.get(l.GAME_3),p=c.get(l.BH_GAME),[m,f]=C.useState(s.getInitialVolumes()),g=(n,h)=>{s.setVolume(n,h),f(j=>({...j,[n]:h}))},y=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()};return e.jsx("div",{style:{position:"absolute",inset:0,background:"#000",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:e.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",maxWidth:"calc(100vh * (16 / 9))",maxHeight:"calc(100vw * (9 / 16))",aspectRatio:"16 / 9",backgroundColor:"#0a0a0a",color:"#00ff00",padding:"2cqw",boxSizing:"border-box",fontFamily:"monospace",border:"0.2cqw solid #333",display:"flex",gap:"2cqw",containerType:"size"},children:[e.jsxs("div",{style:{flex:2},children:[e.jsx("h2",{style:{fontSize:"2cqw",letterSpacing:"0.2cqw",borderBottom:"0.1cqw solid #333",paddingBottom:"1cqw",margin:0,display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsx("span",{children:"DEV_SWITCHBOARD_V1"})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1.5cqw",marginTop:"2cqw"},children:[e.jsxs("div",{style:{gridColumn:"span 3",display:"flex",flexDirection:"column",gap:"0.5cqw"},children:[e.jsx("div",{style:{fontSize:"0.8cqw",color:"#e74c3c",marginBottom:"0.5cqw"},children:"CAMPAIGN_MODES"}),e.jsxs("div",{style:{display:"flex",gap:"1cqw"},children:[e.jsx("div",{style:{flex:1},children:e.jsx(t,{label:"STORY MODE",subLabel:"Full Progression",onClick:()=>s.startCampaign("story_mode"),color:"#e74c3c"})}),e.jsx("div",{style:{flex:1},children:e.jsx(t,{label:"ARCADE MODE",subLabel:"Quick Action",onClick:()=>s.startCampaign("arcade_mode"),color:"#f39c12"})}),e.jsx("div",{style:{flex:1},children:e.jsx(t,{label:"Actual Campaign",subLabel:"Uma~",onClick:()=>s.startCampaign("cross_game"),color:"#f39c12"})})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5cqw"},children:[e.jsxs("div",{style:{fontSize:"0.8cqw",color:"#888",marginBottom:"0.5cqw"},children:["MODULE: ",o?.displayName.toUpperCase()??"GAME_01"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5cqw"},children:[e.jsx(t,{label:"LVL 1",onClick:()=>s.handleNav(l.GAME_1,o?.presets?.[0]?.params),color:"#27ae60"}),e.jsx(t,{label:"LVL 2",onClick:()=>s.handleNav(l.GAME_1,o?.presets?.[1]?.params),color:"#2980b9"}),e.jsx(t,{label:"LVL 3",onClick:()=>s.handleNav(l.GAME_1,o?.presets?.[2]?.params),color:"#8e44ad"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5cqw"},children:[e.jsxs("div",{style:{fontSize:"0.8cqw",color:"#888",marginBottom:"0.5cqw"},children:["MODULE: ",r?.displayName.toUpperCase()??"GAME_02"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5cqw"},children:[e.jsx(t,{label:"LVL 1",onClick:()=>s.handleNav(l.GAME_2,r?.presets?.[0]?.params),color:"#c0392b"}),e.jsx(t,{label:"LVL 2",onClick:()=>s.handleNav(l.GAME_2,r?.presets?.[1]?.params),color:"#d35400"}),e.jsx(t,{label:"LVL 3",onClick:()=>s.handleNav(l.GAME_2,r?.presets?.[2]?.params),color:"#f39c12"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5cqw"},children:[e.jsxs("div",{style:{fontSize:"0.8cqw",color:"#888",marginBottom:"0.5cqw"},children:["MODULE: ",r?.displayName.toUpperCase()??"GAME_03"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"0.5cqw"},children:[e.jsx(t,{label:"LVL 1",onClick:()=>s.handleNav(l.GAME_3,d?.presets?.[0]?.params),color:"#c0392b"}),e.jsx(t,{label:"LVL 2",onClick:()=>s.handleNav(l.GAME_3,d?.presets?.[1]?.params),color:"#d35400"}),e.jsx(t,{label:"LVL 3",onClick:()=>s.handleNav(l.GAME_3,d?.presets?.[2]?.params),color:"#f39c12"}),e.jsx(t,{label:"LVL 4",onClick:()=>s.handleNav(l.GAME_3,d?.presets?.[3]?.params),color:"#f39c12"}),e.jsx(t,{label:"LVL 5",onClick:()=>s.handleNav(l.GAME_3,d?.presets?.[4]?.params),color:"#f39c12"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5cqw"},children:[e.jsxs("div",{style:{fontSize:"0.8cqw",color:"#00d2ff",marginBottom:"0.5cqw"},children:["MODULE: ",p?.displayName.toUpperCase()??"BH_GAME"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5cqw"},children:[e.jsx(t,{label:"LVL 1",onClick:()=>s.handleNav(l.BH_GAME,p?.presets?.[0]?.params),color:"#0984e3"}),e.jsx(t,{label:"LVL 2",onClick:()=>s.handleNav(l.BH_GAME,p?.presets?.[1]?.params),color:"#6c5ce7"}),e.jsx(t,{label:"LVL 3",onClick:()=>s.handleNav(l.BH_GAME,p?.presets?.[2]?.params),color:"#a29bfe"}),e.jsx(t,{label:"LVL 4",onClick:()=>s.handleNav(l.BH_GAME,p?.presets?.[3]?.params),color:"#d63031"})]})]}),e.jsxs("div",{style:{gridColumn:"span 2",marginTop:"1cqw"},children:[e.jsx("div",{style:{fontSize:"0.8cqw",color:"#888",marginBottom:"0.5cqw"},children:"SYSTEM_NAVIGATION"}),e.jsx(t,{label:"OPEN SAVE / LOAD MENU",onClick:()=>s.openPopup(l.SAVE_MENU),color:"#d35400"})]})]})]}),e.jsxs("div",{style:{flex:1,backgroundColor:"#111",padding:"1.5cqw",borderRadius:"0.4cqw",borderLeft:"0.1cqw solid #333",display:"flex",flexDirection:"column"},children:[e.jsx("h3",{style:{fontSize:"1.2cqw",margin:"0 0 2cqw 0",borderBottom:"0.1cqw solid #333",paddingBottom:"0.5cqw"},children:"GLOBAL_CONFIG"}),e.jsx(x,{label:"MASTER_VOLUME",value:m.master,onChange:n=>g("master",n)}),e.jsx(x,{label:"OST_VOLUME",value:m.ost,onChange:n=>g("ost",n)}),e.jsx(x,{label:"SFX_VOLUME",value:m.sfx,onChange:n=>g("sfx",n)}),e.jsxs("div",{style:{marginTop:"1cqw",marginBottom:"1.5cqw"},children:[e.jsx("div",{style:{fontSize:"0.7cqw",color:"#888",marginBottom:"0.6cqw"},children:"DISPLAY_RESOLUTION"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.4cqw"},children:["540p","720p","1080p","1440p","4k","fit"].map(n=>e.jsx(t,{label:n.toUpperCase(),active:a===n,onClick:()=>s.updateResolution(n,i)},n))})]}),e.jsxs("div",{style:{marginBottom:"1.5cqw"},children:[e.jsx("div",{style:{fontSize:"0.7cqw",color:"#888",marginBottom:"0.6cqw"},children:"WINDOW_MODE"}),e.jsx(t,{label:"TOGGLE FULLSCREEN",onClick:y,color:"#b33939"})]}),e.jsx("div",{style:{marginTop:"0.5cqw"},children:e.jsx(t,{label:"[ SETTINGS_PANEL ]",subLabel:"INPUTS & OVERRIDES",onClick:()=>s.openPopup(l.SETTINGS_MENU,{res:a,setRes:i}),color:"#000"})}),e.jsxs("div",{style:{marginTop:"auto",fontSize:"0.7cqw",color:"#444",lineHeight:"1.4"},children:["PERSISTENCE: ACTIVE",e.jsx("br",{}),"SETTINGS_SYNC: LOCAL_STORAGE",e.jsx("br",{}),"ACTIVE_RES: ",a?.toUpperCase()]})]})]})})};class V extends v{name=l.DEV_MENU;controller;params;constructor(a){super(),this.params=a||{},this.controller=new S}async init(){this.isRendering=!0,this.controller.init(this.name)}update(a,i){}getView(){return b.createElement(_,{key:this.name,controller:this.controller,res:this.params.res,setRes:this.params.setRes})}destroy(){this.controller.destroy()}}export{V as DevMenuState};
//# sourceMappingURL=DevMenuState-1MeA1187.js.map
