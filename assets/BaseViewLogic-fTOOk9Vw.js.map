{"version":3,"file":"BaseViewLogic-fTOOk9Vw.js","sources":["../src/core/templates/BaseViewLogic.ts"],"sourcesContent":["// src/core/templates/BaseViewLogic.ts\r\nexport abstract class BaseViewLogic {\r\n    protected logicViews: Map<string, Float32Array> = new Map();\r\n    protected logicIntViews: Map<string, Int32Array> = new Map();\r\n    protected outputViews: Map<string, Float32Array> = new Map();\r\n\r\n    public setBuffers(\r\n        logic: Map<string, Float32Array>,\r\n        logicInt: Map<string, Int32Array>,\r\n        output: Map<string, Float32Array>\r\n    ) {\r\n        this.logicViews = logic;\r\n        this.logicIntViews = logicInt;\r\n        this.outputViews = output;\r\n    }\r\n\r\n    protected get logicView(): Float32Array {\r\n        const view = this.logicViews.get('main') || this.logicViews.values().next().value;\r\n        return view ?? new Float32Array(0);\r\n    }\r\n\r\n    protected get logicIntView(): Int32Array {\r\n        const view = this.logicIntViews.get('main') || this.logicIntViews.values().next().value;\r\n        return view ?? new Int32Array(0);\r\n    }\r\n\r\n    protected get outputView(): Float32Array {\r\n        const view = this.outputViews.get('main') || this.outputViews.values().next().value;\r\n        return view ?? new Float32Array(0);\r\n    }\r\n\r\n    public abstract update(dt: number, frameCount: number): void;\r\n\r\n    public getSnapshot(): any {\r\n        return {};\r\n    }\r\n\r\n    public loadSnapshot(data: any): void {\r\n    }\r\n\r\n    public destroy(): void {\r\n    }\r\n\r\n    protected hasBuffers(): boolean {\r\n        return this.logicViews.size > 0 && this.outputViews.size > 0;\r\n    }\r\n}"],"names":["BaseViewLogic","logic","logicInt","output","data"],"mappings":"AACO,MAAeA,CAAc,CACtB,eAA4C,IAC5C,kBAA6C,IAC7C,gBAA6C,IAEhD,WACHC,EACAC,EACAC,EACF,CACE,KAAK,WAAaF,EAClB,KAAK,cAAgBC,EACrB,KAAK,YAAcC,CACvB,CAEA,IAAc,WAA0B,CAEpC,OADa,KAAK,WAAW,IAAI,MAAM,GAAK,KAAK,WAAW,SAAS,KAAA,EAAO,QAC7D,IAAI,aAAa,CAAC,CACrC,CAEA,IAAc,cAA2B,CAErC,OADa,KAAK,cAAc,IAAI,MAAM,GAAK,KAAK,cAAc,SAAS,KAAA,EAAO,QACnE,IAAI,WAAW,CAAC,CACnC,CAEA,IAAc,YAA2B,CAErC,OADa,KAAK,YAAY,IAAI,MAAM,GAAK,KAAK,YAAY,SAAS,KAAA,EAAO,QAC/D,IAAI,aAAa,CAAC,CACrC,CAIO,aAAmB,CACtB,MAAO,CAAA,CACX,CAEO,aAAaC,EAAiB,CACrC,CAEO,SAAgB,CACvB,CAEU,YAAsB,CAC5B,OAAO,KAAK,WAAW,KAAO,GAAK,KAAK,YAAY,KAAO,CAC/D,CACJ"}